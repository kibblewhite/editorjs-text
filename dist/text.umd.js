(function(){"use strict";try{if(typeof document<"u"){var e=document.createElement("style");e.appendChild(document.createTextNode(".ce-text{line-height:1.6em;outline:none}.ce-text[data-placeholder]:empty:before{content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.codex-editor--empty .ce-block:first-child .ce-text[data-placeholder]:empty:before{opacity:1}.codex-editor--toolbox-opened .ce-block:first-child .ce-text[data-placeholder]:empty:before,.codex-editor--empty .ce-block:first-child .ce-text[data-placeholder]:empty:focus:before{opacity:0}.ce-text p:first-of-type{margin-top:0}.ce-text p:last-of-type{margin-bottom:0}[contenteditable=true].ce-text{white-space:nowrap;overflow:hidden}[contenteditable=true].ce-text br{display:none}[contenteditable=true].ce-text *{display:inline;white-space:nowrap}")),document.head.appendChild(e)}}catch(t){console.error("vite-plugin-css-injected-by-js",t)}})();
(function(i,n){typeof exports=="object"&&typeof module<"u"?module.exports=n():typeof define=="function"&&define.amd?define(n):(i=typeof globalThis<"u"?globalThis:i||self,i.Text=n())})(this,function(){"use strict";const i='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>';class n{static get DEFAULT_PLACEHOLDER(){return""}constructor({data:e,config:t,api:s,readOnly:a}){this.api=s,this.readOnly=a,this._CSS={block:this.api.styles.block,wrapper:"ce-text"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this),this.onKeyDown=this.onKeyDown.bind(this)),this._placeholder=t.placeholder?t.placeholder:n.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=t.preserveBlank!==void 0?t.preserveBlank:!1,this._allowEnterKeyDown=t.allowEnterKeyDown!==void 0?t.allowEnterKeyDown:!1,this.data=e}static get toolbox(){return{icon:i,title:"Text"}}onKeyUp(e){if(e.code!=="Backspace"&&e.code!=="Delete")return;const{textContent:t}=this._element;t===""&&(this._element.innerHTML="")}onKeyDown(e){if(this._allowEnterKeyDown===!1&&e.key==="Enter")return e.stopPropagation(),e.preventDefault(),!1}drawView(){const e=document.createElement("DIV");return e.classList.add(this._CSS.wrapper,this._CSS.block),e.contentEditable=!1,e.dataset.placeholder=this.api.i18n.t(this._placeholder),this._data.text&&(e.innerHTML=this._data.text),this.readOnly||(e.contentEditable=!0,e.addEventListener("keyup",this.onKeyUp),e.addEventListener("keydown",this.onKeyDown)),e}render(){return this._element=this.drawView(),this._element}merge(e){let t={text:this.data.text+e.text};this.data=t}validate(e){return!(e.text.trim()===""&&!this._preserveBlank)}save(e){return{text:e.innerHTML}}onPaste(e){const t={text:e.detail.data.innerHTML};this.data=t}static get sanitize(){return{text:{br:!1}}}static get isReadOnlySupported(){return!0}get data(){if(this._element!==null){const e=this._element.innerHTML;this._data.text=e}return this._data}set data(e){this._data=e||{},this._element!==null&&this.hydrate()}hydrate(){window.requestAnimationFrame(()=>{this._element.innerHTML=this._data.text||""})}static get pasteConfig(){return{tags:["P"]}}static get enableLineBreaks(){return!1}}return n});
